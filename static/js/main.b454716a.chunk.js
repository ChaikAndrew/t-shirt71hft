(this["webpackJsonpt-shirt71hft"]=this["webpackJsonpt-shirt71hft"]||[]).push([[5],{15:function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return l}));var r=n(8),c=(n(33),n(20)),a=n.n(c),o=n(36),u=n(22),i=n.n(u);i.a.defaults.baseURL="https://t-shirts-api.vercel.app/api";var s={set:function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){i.a.defaults.headers.common.Authorization=""}},b={token:s,logIn:function(t){return function(){var e=Object(o.a)(a.a.mark((function e(n){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(r.a.loginRequest()),e.prev=1,e.next=4,i.a.post("/users/login",t);case 4:c=e.sent,s.set(c.data.token),n(r.a.loginSuccess(c.data)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(r.a.loginError(e.t0.message)),n(r.a.errorStatus(!0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(o.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(r.a.logoutRequest()),t.prev=1,t.next=4,i.a.post("/users/logout");case 4:s.unset(),e(r.a.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(r.a.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getToken:function(){return function(){var t=Object(o.a)(a.a.mark((function t(e,n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),c=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:s.set(c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},l={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name},getErrorMessage:function(t){return t.auth.error},getErrorStatus:function(t){return t.auth.errorStatus}}},19:function(t,e,n){t.exports={navLink:"Navigation_navLink__2eqhg",activeNavLink:"Navigation_activeNavLink__2in9c",editColorButton:"Navigation_editColorButton__7ML4X",homeColorButton:"Navigation_homeColorButton__3nd8W"}},25:function(t,e,n){t.exports={container:"UserMenu_container__3QoFH",name:"UserMenu_name__ShW9l",exitButton:"UserMenu_exitButton__2VhET",exitButtonIcon:"UserMenu_exitButtonIcon__1y3G7",avatarButtonIcon:"UserMenu_avatarButtonIcon__FXDD4"}},27:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n(3),c=Object(r.b)("sizes/parseSizeRequest"),a=Object(r.b)("sizes/parseSizeSuccess"),o=Object(r.b)("sizes/parseSizeError")},30:function(t,e,n){t.exports={Footer:"Footer_Footer__37hEc",Item:"Footer_Item__3EQOV"}},33:function(t,e,n){"use strict";var r,c,a,o=n(4),u=n(7),i=n(3),s=n(8),b=Object(i.c)(null,(r={},Object(o.a)(r,s.a.loginSuccess,(function(t,e){return e.payload.token})),Object(o.a)(r,s.a.logoutSuccess,(function(){return null})),r)),l=Object(i.c)(null,(c={},Object(o.a)(c,s.a.loginError,(function(t,e){return e.payload})),Object(o.a)(c,s.a.logoutError,(function(t,e){return e.payload})),c)),j=Object(i.c)(!1,Object(o.a)({},s.a.errorStatus,(function(t,e){return e.payload}))),d=Object(i.c)(!1,(a={},Object(o.a)(a,s.a.loginSuccess,(function(){return!0})),Object(o.a)(a,s.a.loginError,(function(){return!1})),Object(o.a)(a,s.a.logoutSuccess,(function(){return!1})),a));e.a=Object(u.c)({token:b,isAuthenticated:d,error:l,errorStatus:j})},42:function(t,e,n){t.exports={navLink:"AuthNav_navLink__2dAPM",activeNavLink:"AuthNav_activeNavLink__1RnZc"}},59:function(t,e,n){t.exports={Header:"AppBar_Header__2OMmc"}},74:function(t,e,n){},8:function(t,e,n){"use strict";var r=n(3),c={loginRequest:Object(r.b)("auth/loginRequest"),loginSuccess:Object(r.b)("auth/loginSuccess"),loginError:Object(r.b)("auth/loginError"),logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),errorStatus:Object(r.b)("auth/errorStatus")};e.a=c},9:function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return l})),n.d(e,"k",(function(){return j})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return O})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return h}));var r=n(3),c=Object(r.b)("colors/parseColorRequest"),a=Object(r.b)("colors/parseColorSuccess"),o=Object(r.b)("colors/parseColorError"),u=Object(r.b)("colors/addColorRequest"),i=Object(r.b)("colors/addColorSuccess"),s=Object(r.b)("colors/addColorError"),b=Object(r.b)("colors/updateColorRequest"),l=Object(r.b)("colors/updateColorSuccess"),j=Object(r.b)("colors/updateColorError"),d=Object(r.b)("colors/deleteColorRequest"),O=Object(r.b)("colors/deleteColorSuccess"),f=Object(r.b)("colors/deleteColorError"),h=Object(r.b)("colors/filter")},95:function(t,e,n){"use strict";n.r(e);var r,c,a,o=n(2),u=n(1),i=n(31),s=n.n(i),b=n(23),l=n(3),j=n(18),d=n(54),O=n.n(d),f=n(33),h=n(4),p=n(7),v=n(9),x=Object(l.c)([],(r={},Object(h.a)(r,v.j,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),Object(b.a)(n))})),Object(h.a)(r,v.c,(function(t,e){var n=e.payload;return[].concat(Object(b.a)(t),[n])})),Object(h.a)(r,v.g,(function(t,e){var n=e.payload;return t.filter((function(t){return t._id!==n}))})),Object(h.a)(r,v.m,(function(t,e){var n=e.payload;return t.forEach((function(t){t._id===n.id&&(t.name=n.name,t.number=n.number)}))})),r)),g=Object(l.c)("",Object(h.a)({},v.d,(function(t,e){return e.payload}))),m=Object(l.c)(!1,(c={},Object(h.a)(c,v.i,(function(){return!0})),Object(h.a)(c,v.j,(function(){return!1})),Object(h.a)(c,v.h,(function(){return!1})),Object(h.a)(c,v.b,(function(){return!0})),Object(h.a)(c,v.c,(function(){return!1})),Object(h.a)(c,v.a,(function(){return!1})),Object(h.a)(c,v.f,(function(){return!0})),Object(h.a)(c,v.g,(function(){return!1})),Object(h.a)(c,v.e,(function(){return!1})),c)),_=Object(p.c)({items:x,filter:g,load:m}),k=n(27),N=Object(l.c)({},Object(h.a)({},k.c,(function(t,e){return e.payload}))),S=Object(l.c)(!1,(a={},Object(h.a)(a,k.b,(function(){return!0})),Object(h.a)(a,k.c,(function(){return!1})),Object(h.a)(a,k.a,(function(){return!1})),a)),C=Object(p.c)({items:N,load:S}),y=Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),E={key:"auth",storage:O.a,whitelist:["token","isAuthenticated"]},B=Object(l.a)({reducer:{auth:Object(j.g)(E,f.a),colors:_,sizes:C},middleware:y,devTools:!1}),I={store:B,persistor:Object(j.h)(B)},L=n(10),A=n(17),z=n(55),R=(n(73),n(74),n(56)),q=n(57),w=n(61),T=n(60),M=n(19),F=n.n(M),U=n(15),D=n(29);function H(){var t=Object(L.d)(U.c.getIsAuthenticated);return Object(o.jsxs)("div",{children:[Object(o.jsx)(A.b,{exact:!0,to:"/",activeClassName:F.a.activeNavLink,className:F.a.navLink,children:Object(o.jsx)(D.b,{className:F.a.homeColorButton})}),t&&Object(o.jsx)(A.b,{"data-tip":"Do you want to delete this contact?",to:"/colors",activeClassName:F.a.activeNavLink,className:F.a.navLink,children:Object(o.jsx)(D.a,{className:F.a.editColorButton})})]})}var P=n(42),W=n.n(P),G=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(A.b,{to:"/login",activeClassName:W.a.activeNavLink,className:W.a.navLink,children:"Login"})})},J=n(25),Q=n.n(J),V=n(58);function X(){var t=Object(L.c)(),e=Object(u.useCallback)((function(){return t(U.b.logOut())}),[t]);return Object(o.jsxs)("div",{className:Q.a.container,children:[Object(o.jsx)(D.c,{className:Q.a.avatarButtonIcon}),Object(o.jsx)("span",{className:Q.a.name,children:"Welcome, admin "}),Object(o.jsx)("button",{className:Q.a.exitButton,onClick:function(){return e()},children:Object(o.jsx)(V.a,{className:Q.a.exitButtonIcon})})]})}var Z=n(59),K=n.n(Z);function Y(){var t=Object(L.d)(U.c.getIsAuthenticated);return Object(o.jsxs)("header",{className:K.a.Header,children:[Object(o.jsx)(H,{}),t?Object(o.jsx)(X,{}):Object(o.jsx)(G,{})]})}var $=n(6),tt=n(24),et=n(35);function nt(t){var e=t.children,n=t.redirectTo,r=Object(et.a)(t,["children","redirectTo"]),c=Object(L.d)(U.c.getIsAuthenticated);return Object(o.jsx)($.b,Object(tt.a)(Object(tt.a)({},r),{},{children:c?e:Object(o.jsx)($.a,{to:n})}))}function rt(t){var e=t.children,n=t.redirectTo,r=Object(et.a)(t,["children","redirectTo"]),c=Object(L.d)(U.c.getIsAuthenticated);return Object(o.jsx)($.b,Object(tt.a)(Object(tt.a)({},r),{},{children:c&&r.restricted?Object(o.jsx)($.a,{to:n}):e}))}var ct=Object(u.lazy)((function(){return Promise.all([n.e(1),n.e(8),n.e(3)]).then(n.bind(null,151))})),at=Object(u.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2)]).then(n.bind(null,149))})),ot=Object(u.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,152))})),ut="/",it="/colors",st="/login",bt=function(){return Object(o.jsx)(u.Suspense,{fallback:Object(o.jsx)("p",{align:"center",children:"Loading..."}),children:Object(o.jsxs)($.d,{children:[Object(o.jsx)($.b,{exact:!0,path:ut,children:Object(o.jsx)(ct,{})}),Object(o.jsx)(nt,{path:it,redirectTo:st,children:Object(o.jsx)(at,{})}),Object(o.jsx)(rt,{path:st,restricted:!0,redirectTo:it,children:Object(o.jsx)(ot,{})}),Object(o.jsx)($.a,{to:"/"})]})})},lt=n(30),jt=n.n(lt);function dt(){return Object(o.jsxs)("footer",{className:jt.a.Footer,children:[Object(o.jsx)("p",{className:jt.a.Item,children:"Wroclaw"}),Object(o.jsx)("p",{className:jt.a.Item,children:"-2023-"}),Object(o.jsx)("p",{className:jt.a.Item,children:"Chaika Andrii"})]})}var Ot=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(R.a)(this,n),e.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetToken()}},{key:"render",value:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Y,{}),Object(o.jsx)(bt,{}),Object(o.jsx)(dt,{})]})}}]),n}(u.Component),ft={onGetToken:U.b.getToken},ht=Object(L.b)(null,ft)(Ot);s.a.render(Object(o.jsx)(L.a,{store:I.store,children:Object(o.jsx)(z.a,{loading:null,persistor:I.persistor,children:Object(o.jsx)(A.a,{children:Object(o.jsx)(ht,{})})})}),document.getElementById("root"))}},[[95,6,7]]]);
//# sourceMappingURL=main.b454716a.chunk.js.map